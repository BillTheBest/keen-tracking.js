<!DOCTYPE html>
<html>
<head></head>
<body>
  <!-- <script src='../dist/keen-tracking.js' type='text/javascript'></script> -->
  <script src="https://d26b395fwzu5fz.cloudfront.net/3.2.4/keen.min.js?date=2015-06-09"></script>
  <script>

    !function(name, win) {
      if ('undefined' !== typeof window[name]) return;
      var previous = name !== 'Keen' && window['Keen'] ? window['Keen'] : false,
          latest;
      window[name] = {
        load: function(url, fn) {
          var head = document.getElementsByTagName('head')[0],
              script = document.createElement('script'),
              loaded;
          script.onload = script.onerror = script['onreadystatechange'] = function () {
            if ( (script['readyState'] && !(/^c|loade/.test(script['readyState'])) ) || loaded) return;
            script.onload = script['onreadystatechange'] = null;
            loaded = 1;
            // noConflict
            latest = window.Keen;
            if (previous) {
              window.Keen = previous;
              window[name] = latest;
            }
            window[name].ready(fn);
          }
          script.async = 1;
          script.src = url;
          head.parentNode.insertBefore(script, head);
        }
      };
    }('Keen2', this);

    Keen2
      .load('../dist/keen-tracking.js', function(){
        console.log('Keen2 is ready!', Keen2);
        var client = new Keen2.Client({
    			projectId: "123",
    			writeKey: "4324543"
    		});
        console.log(client);
      });



    // ----------------------------------------------
    // TESTING DUPLICATE INCLUDES
    // ----------------------------------------------

    !function(name, win) {
      if ('undefined' !== typeof window[name]) return;
      var previous = name !== 'Keen' && window['Keen'] ? window['Keen'] : false,
          latest;
      window[name] = {
        load: function(url, fn) {
          var head = document.getElementsByTagName('head')[0],
              script = document.createElement('script'),
              loaded;
          script.onload = script.onerror = script['onreadystatechange'] = function () {
            if ( (script['readyState'] && !(/^c|loade/.test(script['readyState'])) ) || loaded) return;
            script.onload = script['onreadystatechange'] = null;
            loaded = 1;
            // noConflict
            latest = window.Keen;
            if (previous) {
              window.Keen = previous;
              window[name] = latest;
            }
            window[name].ready(fn);
          }
          script.async = 1;
          script.src = url;
          head.parentNode.insertBefore(script, head);
        }
      };
    }('Keen3', this);

    var url = 'https://d26b395fwzu5fz.cloudfront.net/3.2.1/keen.min.js?date=2015-06-09';
    Keen3.load(url, function(){
      window.client3 = new Keen3({
        projectId: "12312312",
        writeKey: "43253465"
      });
    });

	</script>
</body>
</html>
