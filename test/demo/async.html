<!DOCTYPE html>
<html>
<head></head>
<body>
  <!-- <script src='../dist/keen-tracking.js' type='text/javascript'></script> -->
  <script src="https://d26b395fwzu5fz.cloudfront.net/3.2.4/keen.min.js?date=2015-06-09"></script>
  <script>

    !function(name, path, ctx) {
      var previous = name !== 'Keen' && ctx['Keen'] ? ctx['Keen'] : false, latest;
      ctx[name] = ctx[name] || {
        ready: function(fn) {
          var head = document.getElementsByTagName('head')[0],
              script = document.createElement('script'),
              loaded;
          script.onload = script.onerror = script['onreadystatechange'] = function () {
            if ( (script['readyState'] && !(/^c|loade/.test(script['readyState'])) ) || loaded) return;
            script.onload = script['onreadystatechange'] = null;
            loaded = 1;
            // noConflict
            latest = ctx.Keen;
            if (previous) {
              ctx.Keen = previous;
              ctx[name] = latest;
            }
            ctx[name].ready(fn);
          }
          script.async = 1;
          script.src = path;
          head.parentNode.insertBefore(script, head);
        }
      };
    }('Keen2', '../dist/keen-tracking.js', this);

    Keen2
      .ready(function(){
        console.log('Keen2 is ready!', Keen2);
        var client = new Keen2.Client({
    			projectId: "123",
    			writeKey: "4324543"
    		});
        console.log(client);
      });



    // ----------------------------------------------
    // TESTING DUPLICATE INCLUDES
    // ----------------------------------------------

    !function(name, path, ctx) {
      var previous = name !== 'Keen' && ctx['Keen'] ? ctx['Keen'] : false, latest;
      ctx[name] = ctx[name] || {
        ready: function(fn) {
          var head = document.getElementsByTagName('head')[0],
              script = document.createElement('script'),
              loaded;
          script.onload = script.onerror = script['onreadystatechange'] = function () {
            if ( (script['readyState'] && !(/^c|loade/.test(script['readyState'])) ) || loaded) return;
            script.onload = script['onreadystatechange'] = null;
            loaded = 1;
            // noConflict
            latest = ctx.Keen;
            if (previous) {
              ctx.Keen = previous;
              ctx[name] = latest;
            }
            ctx[name].ready(fn);
          }
          script.async = 1;
          script.src = path;
          head.parentNode.insertBefore(script, head);
        }
      };
    }('Keen3', 'https://d26b395fwzu5fz.cloudfront.net/3.2.1/keen.min.js?date=2015-06-09', this);

    // var url = 'https://d26b395fwzu5fz.cloudfront.net/3.2.1/keen.min.js?date=2015-06-09';
    Keen3.ready(function(){
      window.client3 = new Keen3({
        projectId: "12312312",
        writeKey: "43253465"
      });
    });

	</script>
</body>
</html>
